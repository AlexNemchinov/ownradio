CREATE OR REPLACE FUNCTION getnexttrackid(IN i_deviceid UUID)
    RETURNS SETOF CHARACTER VARYING AS
'
BEGIN
  RETURN QUERY
  SELECT cast(id::uuid as varchar)
  FROM tracks
  ORDER BY RANDOM()
  LIMIT 1;
END;
'
LANGUAGE plpgsql;
